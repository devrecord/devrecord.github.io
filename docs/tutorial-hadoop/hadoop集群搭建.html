<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial-hadoop/hadoop集群搭建">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Hadoop集群搭建 | Hbdoc</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://hbdoc.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://hbdoc.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://hbdoc.github.io/docs/tutorial-hadoop/hadoop集群搭建"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hadoop集群搭建 | Hbdoc"><meta data-rh="true" name="description" content="服务规划"><meta data-rh="true" property="og:description" content="服务规划"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hbdoc.github.io/docs/tutorial-hadoop/hadoop集群搭建"><link data-rh="true" rel="alternate" href="https://hbdoc.github.io/docs/tutorial-hadoop/hadoop集群搭建" hreflang="en"><link data-rh="true" rel="alternate" href="https://hbdoc.github.io/zh-Hans/docs/tutorial-hadoop/hadoop集群搭建" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://hbdoc.github.io/docs/tutorial-hadoop/hadoop集群搭建" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Hbdoc RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Hbdoc Atom Feed"><link rel="stylesheet" href="/assets/css/styles.3c6c0686.css">
<link rel="preload" href="/assets/js/runtime~main.cf3fece1.js" as="script">
<link rel="preload" href="/assets/js/main.1826c36d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Hbdoc</b></a><a class="navbar__item navbar__link" href="/docs/intro">文档</a><a class="navbar__item navbar__link" href="/blog">笔记</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">快速搭建一个博客网站</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/基础教程">基础教程</a><button aria-label="Toggle the collapsible sidebar category &#x27;基础教程&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/附加教程">附加教程</a><button aria-label="Toggle the collapsible sidebar category &#x27;附加教程&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/elasticsearch">Elasticsearch</a><button aria-label="Toggle the collapsible sidebar category &#x27;Elasticsearch&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/hadoop">Hadoop</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hadoop&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial-hadoop/hadoop集群搭建">Hadoop集群搭建</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial-hadoop/hadoop之HA高可以用搭建">Hadoop之高可用搭建</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/hive-">Hive </a><button aria-label="Toggle the collapsible sidebar category &#x27;Hive &#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/hadoop"><span itemprop="name">Hadoop</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Hadoop集群搭建</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Hadoop集群搭建</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="服务规划">服务规划<a href="#服务规划" class="hash-link" aria-label="Direct link to 服务规划" title="Direct link to 服务规划">​</a></h2><ul><li>准备3个节点，分别是node1，node2，node3</li><li>角色分配：<code>node1:namenode</code>  ,<code>datanode：node2.node3</code>, <code>secondary:node2</code></li><li>准备jdk安装包：<code>jdk-8u181-linux-x64.rpm</code></li><li>准备Hadoop安装包:<code>hadoop-2.6.5.tar.gz</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="基础设施">基础设施<a href="#基础设施" class="hash-link" aria-label="Direct link to 基础设施" title="Direct link to 基础设施">​</a></h2><ul><li>IP及主机名和服务名</li><li>设置hosts映射</li><li>时间同步</li><li>安装Jdk</li><li>设置免密登录</li><li>关闭防火墙</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置服务名">配置服务名<a href="#配置服务名" class="hash-link" aria-label="Direct link to 配置服务名" title="Direct link to 配置服务名">​</a></h2><p>执行<code>vi /etc/systemconfig/network</code>。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Created by anaconda</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NETWORKING=yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HOSTNAME=node1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置hosts">配置Hosts<a href="#配置hosts" class="hash-link" aria-label="Direct link to 配置Hosts" title="Direct link to 配置Hosts">​</a></h2><p>执行<code>vi /etc/systemconfig/network-scripts/</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.6 node1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.7 node2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.8 node3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="关闭防火墙">关闭防火墙<a href="#关闭防火墙" class="hash-link" aria-label="Direct link to 关闭防火墙" title="Direct link to 关闭防火墙">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl stop firewalld &amp;&amp; systemctl disable firewalld</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置时间同步">配置时间同步<a href="#配置时间同步" class="hash-link" aria-label="Direct link to 配置时间同步" title="Direct link to 配置时间同步">​</a></h2><p>执行命令<code>yum -y install ntp</code> 安装ntp。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 opt]# yum -y install ntp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loaded plugins: fastestmirror</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Loading mirror speeds from cached hostfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * base: mirrors.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * extras: mirrors.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * updates: mirrors.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base                                                                                                         | 3.6 kB  00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extras                                                                                                       | 2.9 kB  00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">updates                                                                                                      | 2.9 kB  00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Resolving Dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Running transaction check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; Package ntp.x86_64 0:4.2.6p5-29.el7.centos.2 will be installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Processing Dependency: ntpdate = 4.2.6p5-29.el7.centos.2 for package: ntp-4.2.6p5-29.el7.centos.2.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Processing Dependency: libopts.so.25()(64bit) for package: ntp-4.2.6p5-29.el7.centos.2.x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Running transaction check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; Package autogen-libopts.x86_64 0:5.18-5.el7 will be installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---&gt; Package ntpdate.x86_64 0:4.2.6p5-29.el7.centos.2 will be installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--&gt; Finished Dependency Resolution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Dependencies Resolved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">====================================================================================================================</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 只是部分安装信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装好<code>ntp</code>后,需要执行<code>vi /etc/ntp.conf</code>修改<code>ntp.conf</code>文件中的server配置。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 原来server 配置注释</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#server 0.centos.pool.ntp.org iburst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#server 1.centos.pool.ntp.org iburst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#server 2.centos.pool.ntp.org iburst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#server 3.centos.pool.ntp.org iburst</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修改aliyun时间同步服务</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server ntp1.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server ntp2.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server ntp3.aliyun.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过<code>systemctl start ntpd</code> 启动服务。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 opt]# systemctl start ntpd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 opt]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装jdk">安装Jdk<a href="#安装jdk" class="hash-link" aria-label="Direct link to 安装Jdk" title="Direct link to 安装Jdk">​</a></h2><p>上传Jdk到你的服务器：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 opt]# ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jdk-8u181-linux-x64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>rpm安装Jdk:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 opt]# rpm -i jdk-8u181-linux-x64.rpm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装后形成这样的目录关系：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 java]# ll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lrwxrwxrwx. 1 root root  16 Mar 14 23:54 default -&gt; /usr/java/latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x. 8 root root 258 Mar 14 23:54 jdk1.8.0_181-amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lrwxrwxrwx. 1 root root  28 Mar 14 23:54 latest -&gt; /usr/java/jdk1.8.0_181-amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 java]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置环境变量">配置环境变量<a href="#配置环境变量" class="hash-link" aria-label="Direct link to 配置环境变量" title="Direct link to 配置环境变量">​</a></h2><p>使用如下命令配置Hadoop:</p><ul><li>每个节点都需要在<code>/etc/hosts</code>下配置<code>hosts</code></li><li>传输：<code>scp ./jdk-8u181-linux-x64.rpm  node3:/opt</code>和<code>hadoop</code></li><li>配置环境变量：/etc/profile</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">JAVA_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/java/default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">HADOOP_HOME</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/opt/hadoop-2.6.5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:#36acaa">PATH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">:</span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token builtin class-name">:</span><span class="token variable" style="color:#36acaa">$JAVA_HOME</span><span class="token plain">/bin:</span><span class="token variable" style="color:#36acaa">$HADOOP_HOME</span><span class="token plain">/bin:</span><span class="token variable" style="color:#36acaa">$HADOOP_HOME</span><span class="token plain">:sbin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>也可以使用scp命令将profile发送到节点上。环境变量配置完后执行<code>source /etc/profile </code>生效环境变量。</p><p>分别在每台节点上执行<code>jps</code>有返回就表示环境变量配置成功。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置免密登录">配置免密登录<a href="#配置免密登录" class="hash-link" aria-label="Direct link to 配置免密登录" title="Direct link to 配置免密登录">​</a></h2><p><a href="https://hadoop.apache.org/docs/r2.6.5/hadoop-project-dist/hadoop-common/SingleCluster.html#Required_Software" target="_blank" rel="noopener noreferrer"><code>ssh must be installed and sshd must be running to use the Hadoop scripts that manage remote Hadoop daemons</code></a>.</p><p>进入root目录下，配置<code>ssh</code>前先执行<code>ssh localhost</code> 检查是否配置免密登录。</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/sshlocalhost-faacd8821646037a746c0cb08f0298ce.png" width="944" height="202" class="img_ev3q"></p><p>出现如上界面说明还没有配置免密。</p><p>根据Hadoop官网教程使用<code>ssh-keygen -t dsa -P &#x27;&#x27; -f /root/.ssh/id_dsa</code>配置免密：</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/keygen-9d0de84b4e7d2449a873dd513ab15a0b.png" width="842" height="481" class="img_ev3q"></p><p>出现<code>id_dsa,id_dsa.pub,known_hosts</code>文件说明配置成功：</p><p><img loading="lazy" alt="1678893288517" src="/assets/images/llssh-75722a7447f441c3f10446825d0df624.png" width="660" height="154" class="img_ev3q"></p><p>想哪台节点登录就需要发给那台节点：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 执行命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat id_dsa.pub &gt;&gt; authorized_keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>其他节点，<code>node2，node3</code> 也需要配置免密登录。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 在node2,node3 分别执行 ssh localhost，让服务器自动创建.ssh目录，不要手动创建</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ssh localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将公钥分发到node2,node3节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 .ssh]# pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/root/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 .ssh]# scp ./id_dsa.pub node2:/root/.ssh/node1.pub </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>node3</code> 也是重复`<code>node2</code>操作，但是<code> node2:/root/.ssh/</code>目录后的文件的重新命名不能重复。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scp ./id_dsa.pub node3:/root/.ssh/node1.pub</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>公钥分发好后，需要在<code>/root/.ssh</code>目录下将公钥追加到<code>authorized_keys</code>，这个文件一开始是没有的，执行了追加后才有的。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 在node2 上将公钥追加到authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ./node1.pub &gt;&gt; authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在node3 上将公钥追加到authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ./node1.pub &gt;&gt; authorized_keys</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当执行<code>ssh node2 , ssh node3</code>能登录成功说明免密设置成功。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 .ssh]# ssh node3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Last login: Fri Mar 17 23:42:23 2023 from 192.168.99.6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 ~]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="部署配置">部署配置<a href="#部署配置" class="hash-link" aria-label="Direct link to 部署配置" title="Direct link to 部署配置">​</a></h2><p>主要是配置以下文件：</p><ul><li>core-site.xml</li><li>hdfs-site.xml</li><li>hadoop-env.sh</li><li>slaves</li></ul><p>hadoop-env.sh配置：</p><p>去到hadoop目录下执行<code>vi etc/hadoop/hadoop-env.sh</code>文件,找到<code>export JAVA_HOME</code>改成</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export JAVA_HOME=/usr/java/default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>core-site.xml: </p><p>配置<code>core-site.xml</code>以便客户端能找到<code>namenode</code>。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;configuration&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;hdfs://node1:9000&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/configuration&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>hdfs-site.xml:</p><p>配置<code>hdfs-site.xml</code>文件读写的副本数</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;configuration&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;dfs.replication&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;2&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # namenode原数据目录，/var/bigdata/hadoop/local/dfs/nam 不需要创建会自动创建</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;/var/bigdata/hadoop/full/dfs/name&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # datanode 目录，/var/bigdata/hadoop/full/dfs/data不需要创建，会自动创建</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;/var/bigdata/hadoop/full/dfs/data&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;node2:50090&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &lt;property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;name&gt;dfs.namenode.checkpoint.dir&lt;/name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;value&gt;/var/bigdata/hadoop/full/dfs/secondary&lt;/value&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/property&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/configuration&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>slaves:</p><p>配置slaves文件，以便集群知道在哪个节点启动<code>datanode</code>。使用<code>vi slaves</code>,打开后配置节点。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="分发目录">分发目录<a href="#分发目录" class="hash-link" aria-label="Direct link to 分发目录" title="Direct link to 分发目录">​</a></h2><p>配置好hadoop之后，将其分发到node2，node3节点。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">scp -r hadoop-2.6.5 node2:/opt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp -r hadoop-2.6.5 node3:/opt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="初始化启动">初始化启动<a href="#初始化启动" class="hash-link" aria-label="Direct link to 初始化启动" title="Direct link to 初始化启动">​</a></h2><p>相信到这里已经配置好了，那么需要执行<code>hdfs namenode -format</code>。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 var]# pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/var</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 var]# hdfs namenode -format</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果格式化成功，你将会看到如下相信。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO namenode.NNConf: ACLs enabled? false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO namenode.NNConf: XAttrs enabled? true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO namenode.NNConf: Maximum size of an xattr: 16384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO namenode.FSImage: Allocated new BlockPoolId: BP-881722450-10.0.2.15-1678922746657</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO common.Storage: Storage directory /var/bigdata/hadoop/local/dfs/name has been successfully formatted.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:46 INFO namenode.FSImageFormatProtobuf: Saving image file /var/bigdata/hadoop/local/dfs/name/current/fsimage.ckpt_0000000000000000000 using no compression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:47 INFO namenode.FSImageFormatProtobuf: Image file /var/bigdata/hadoop/local/dfs/name/current/fsimage.ckpt_0000000000000000000 of size 321 bytes saved in 0 seconds.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">23/03/15 23:25:47 INFO namenode.NNStorageRetentionManager: Going to retain 1 images with txid &gt;= 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>此时目录下会看到<code>bigdata</code>目录。</p><p><img loading="lazy" alt="Docusaurus Plushie" src="data:image/png;base64,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" width="1508" height="66" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="启动程序">启动程序<a href="#启动程序" class="hash-link" aria-label="Direct link to 启动程序" title="Direct link to 启动程序">​</a></h2><p>执行<code>./start-dfs.sh</code>命令启动。使用<code>Jps</code>命令可以查看是否成功。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[root@localhost sbin]# ./start-dfs.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 sbin]# start-dfs.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting namenodes on [node1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node1: starting namenode, logging to /opt/hadoop-2.6.5/logs/hadoop-root-namenode-10.0.2.15.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node2: starting datanode, logging to /opt/hadoop-2.6.5/logs/hadoop-root-datanode-10.0.2.15.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node3: starting datanode, logging to /opt/hadoop-2.6.5/logs/hadoop-root-datanode-10.0.2.15.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">localhost: starting datanode, logging to /opt/hadoop-2.6.5/logs/hadoop-root-datanode-10.0.2.15.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting secondary namenodes [node2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node2: starting secondarynamenode, logging to /opt/hadoop-2.6.5/logs/hadoop-root-secondarynamenode-10.0.2.15.out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 sbin]# jps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7996 Jps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7725 DataNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7630 NameNode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@10 sbin]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="访问">访问<a href="#访问" class="hash-link" aria-label="Direct link to 访问" title="Direct link to 访问">​</a></h2><p>先修改本机电脑的<code>hosts</code>文件，将节点配置到hosts里面。访问时就可以使用节点名称来访问。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.6 node1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.7 node2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">192.168.99.8 node3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>通过<code>http://node1:50070/dfshealth.html#tab-overview</code>访问`<code>Hdfs</code>。如果没有配置直接使用<code>IP</code>访问。</p><p><img loading="lazy" alt="Docusaurus Plushie" src="/assets/images/hdfs-7bd0f972f6550a1f1261dac6881ba99f.png" width="1223" height="640" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/hadoop"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hadoop</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorial-hadoop/hadoop之HA高可以用搭建"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hadoop之高可用搭建</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#服务规划" class="table-of-contents__link toc-highlight">服务规划</a></li><li><a href="#基础设施" class="table-of-contents__link toc-highlight">基础设施</a></li><li><a href="#配置服务名" class="table-of-contents__link toc-highlight">配置服务名</a></li><li><a href="#配置hosts" class="table-of-contents__link toc-highlight">配置Hosts</a></li><li><a href="#关闭防火墙" class="table-of-contents__link toc-highlight">关闭防火墙</a></li><li><a href="#配置时间同步" class="table-of-contents__link toc-highlight">配置时间同步</a></li><li><a href="#安装jdk" class="table-of-contents__link toc-highlight">安装Jdk</a></li><li><a href="#配置环境变量" class="table-of-contents__link toc-highlight">配置环境变量</a></li><li><a href="#配置免密登录" class="table-of-contents__link toc-highlight">配置免密登录</a></li><li><a href="#部署配置" class="table-of-contents__link toc-highlight">部署配置</a></li><li><a href="#分发目录" class="table-of-contents__link toc-highlight">分发目录</a></li><li><a href="#初始化启动" class="table-of-contents__link toc-highlight">初始化启动</a></li><li><a href="#启动程序" class="table-of-contents__link toc-highlight">启动程序</a></li><li><a href="#访问" class="table-of-contents__link toc-highlight">访问</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023  Hbdoc 版权所有</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cf3fece1.js"></script>
<script src="/assets/js/main.1826c36d.js"></script>
</body>
</html>